(this.webpackJsonpcard_swiper=this.webpackJsonpcard_swiper||[]).push([[0],{162:function(e,t,n){e.exports=n.p+"static/media/deck-sound.2cd1dc97.wav"},163:function(e,t,n){e.exports=n.p+"static/media/error-sound.60f09ea6.wav"},164:function(e,t,n){e.exports=n.p+"static/media/success-sound.80d37618.mp3"},165:function(e,t,n){e.exports=n.p+"static/media/over-time-sound.67d9d4ea.wav"},168:function(e,t,n){e.exports=n(397)},386:function(e,t,n){},387:function(e,t,n){},389:function(e,t,n){},390:function(e,t,n){},391:function(e,t,n){},392:function(e,t,n){},393:function(e,t){function n(){var e=document.createEvent("Events");e.initEvent("resume",!0,!0),document.dispatchEvent(e)}n(),window.setInterval(n,1e4)},394:function(e,t,n){},395:function(e,t,n){},396:function(e,t,n){},397:function(e,t,n){"use strict";n.r(t);n(169);var a=n(1),r=n.n(a),c=n(81),i=n.n(c),o=n(83),s=n(157),u=n(82),l=n(158),m=n(166),d=n(159),p=n(167),f=function(e){var t=e.points,n=e.children,c=void 0===n?"+5":n,i=Object(a.useState)(!1),s=Object(o.a)(i,2),u=s[0],l=s[1];return Object(a.useEffect)((function(){l(!1);var e=setTimeout((function(){l(!0)}),400);return function(){clearTimeout(e)}}),[t]),t>0?r.a.createElement("div",{className:"counter-tooltip ".concat(u?"active":"")},c):null},w=(n(386),f),g=function(e){var t=e.timer,n=e.points,a=e.muted,c=e.muteHandler,i=e.errorPoints;return r.a.createElement("section",{className:"counter"},r.a.createElement("p",{className:"title"},"\u0432\u0440\u0435\u043c\u044f"),r.a.createElement("div",{className:"counter__item"},r.a.createElement("button",{className:"mute-button",onClick:c},a?r.a.createElement("svg",null,r.a.createElement("use",{href:"#icon-muted"})):r.a.createElement("svg",null,r.a.createElement("use",{href:"#icon-mute"}))),r.a.createElement(w,{points:n,errorPoints:i}),r.a.createElement(w,{points:i},r.a.createElement("svg",null,r.a.createElement("use",{href:"#icon-sad"}))),r.a.createElement("div",{className:"duck-wrapper"},r.a.createElement("svg",null,r.a.createElement("use",{href:"#icon-duck"}))),r.a.createElement("p",{className:"number"},t)))},h=(n(387),g),v=n(160),E=n.n(v),b=function(e){var t=e.right,n=e.left,c=e.card,i=e.helper,o=function(e){switch(e.code){case"ArrowRight":t();break;case"ArrowLeft":n()}};return Object(a.useEffect)((function(){return document.addEventListener("keydown",o),function(){document.removeEventListener("keydown",o)}})),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"wrapper-styles question-helper"},i?r.a.createElement("p",null,i):r.a.createElement("p",null,"38 \u043c\u0438\u043d\u0443\u0442")),r.a.createElement("div",{className:"buttons-wrapper"},c.trueButton?r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"btn btn-red",onClick:n},r.a.createElement("svg",null,r.a.createElement("use",{href:"#icon-close"}))),r.a.createElement("button",{className:"btn btn-green",onClick:t},r.a.createElement("svg",null,r.a.createElement("use",{href:"#icon-approve"})))):r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"btn-custom",onClick:n},c.falseButton||c.answer[1].version_text),r.a.createElement("button",{className:"btn-custom",onClick:t},c.trueButton||c.answer[0].version_text))))},_=(n(389),b),y=function(e){var t=e.card;return r.a.createElement("div",{className:"wrapper-styles swiper-card"},r.a.createElement("div",{className:"img",style:{backgroundImage:"url(".concat(t.imageUrl,")")}}),r.a.createElement("p",null,t.text))},O=(n(390),y),j=function(e){var t=e.cards,n=e.onSwipe,a=e.onAfterSwipe,c=e.helper,i=e.updateLoader;return t.length<1&&i(),r.a.createElement("div",{className:"swiper"},t.length>0&&r.a.createElement("div",{className:"swiper__wrapper"},r.a.createElement(E.a,{buttons:function(e){var n=e.left,a=e.right;return r.a.createElement(_,{left:n,right:a,card:t[0],helper:c})},onSwipe:n,onAfterSwipe:a},r.a.createElement(O,{card:t[0]}))))},S=(n(391),j),k=n(112),P=n.n(k),N=n(161),x=new function e(){var t=this;Object(u.a)(this,e),this.getData=Object(N.a)(P.a.mark((function e(){var n,a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=4;break;case 3:return e.abrupt("return",e.sent);case 4:return e.next=6,t._fetchData();case 6:if(!(n=e.sent)){e.next=13;break}if(a=[],n.data.questions.forEach((function(e){a.push({text:e.item_question_title,answer:e.items_versions,imageUrl:e.item_question_media.item_question_gallery[0]?e.item_question_media.item_question_gallery[0].url:null})})),a.sort((function(){return Math.random()-.5})),!n.success){e.next=13;break}return e.abrupt("return",{timer:n.data.game_custom_options&&n.data.game_custom_options[0].timer,helper:n.data.game_custom_options&&n.data.game_custom_options[1].helper,cards:a});case 13:case"end":return e.stop()}}),e)}))),this._mockData=function(){return new Promise((function(e,n){setTimeout((function(){e(t.mockData)}),1e3)}))},this._fetchData=function(){return function(e,t){var n=t.body,a="/wp-admin/admin-ajax.php?".concat(e);return fetch(a,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",body:JSON.stringify(n)})}("action=game_items",{body:{postId:window.parent.gameData?window.parent.gameData.postId:56753}}).then((function(e){return e.json()}))},this.mockData={project:"was",timer:60,cards:[{text:"First",answer:!0,imageUrl:"https://cnet1.cbsistatic.com/img/ZUz5Xm3KL07RG9tMjEZ2R-hGq4c=/1092x0/2019/04/03/378038e5-8485-43ee-8d1c-a62cab7b0d2d/lg-g8-thinq-2.jpg"},{text:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ab alias amet aspernatur",answer:!1,imageUrl:"https://icdn8.digitaltrends.com/image/digitaltrends/lg-v50-thinq-5g-review-04239-720x720.jpg"},{text:"Third",answer:!0,imageUrl:"https://www.meme-arsenal.com/memes/de142ca54112d6c1d5b101e3901306bf.jpg"}]},this.data=null},D=function(){return r.a.createElement("div",{className:"was-preloader"},r.a.createElement("svg",null,r.a.createElement("use",{href:"#icon-duck-stroke"})))},A=(n(392),D),q=(n(393),n(162)),H=n.n(q),L=n(163),C=n.n(L),I=n(164),T=n.n(I),U=n(165),B=n.n(U),F=n(51);function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={cards:[],timer:60,points:0,errorPoints:0,loading:!0,muted:!1},n.updateCounter=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;n.setState((function(t){return M({},t,{timer:t.timer+5,points:t.points+e})}))},n.updateErrorPoints=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;n.setState((function(t){return M({},t,{errorPoints:t.errorPoints+e})}))},n.onSwipe=function(e){var t=Object(o.a)(n.state.cards[0].answer,2),a=t[0];t[1].version_is_true&&"left"===e||a.version_is_true&&"right"===e?(n.updateCounter(),n.state.successSing.play()):(n.updateErrorPoints(),n.state.errorSing.play())},n.onAfterSwipe=function(){n.setState((function(e){return M({},e,{cards:e.cards.slice(1,e.cards.length)})}))},n.timerAction=function(){var e=setInterval((function(){(n.state.timer<=0||0===n.state.cards.length)&&(clearInterval(e),window.parent.gameData&&(window.parent.gameData.points=n.state.points,window.parent.gameData.totalPoints=n.state.totalPoints,window.parent.gameData.modal.close())),8===n.state.timer&&n.state.overTimeSing.play(),n.setState((function(e){return M({},e,{timer:e.timer-1})}))}),1e3)},n.updateLoader=function(){n.setState(M({},n.state,{loading:!0}))},n.muteHandler=function(){F.Howler.mute(!n.state.muted),n.setState((function(e){return M({},e,{muted:!e.muted})}))},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=new F.Howl({src:[H.a]}),n=new F.Howl({src:[T.a]}),a=new F.Howl({src:[C.a]}),r=new F.Howl({src:[B.a]});x.getData().then((function(t){var c=t.timer,i=t.cards,o=t.helper;e.setState(M({},e.state,{timer:c,cards:i,helper:o,totalPoints:i.length,successSing:n,errorSing:a,overTimeSing:r,loading:!1})),e.timerAction()})).catch((function(e){return console.error(e)})),t.play()}},{key:"render",value:function(){var e=this.state,t=e.timer,n=e.points,a=e.cards,c=e.loading,i=e.errorPoints;return c?r.a.createElement(A,null):r.a.createElement("div",{className:"swiper-wrapper"},r.a.createElement(h,{timer:t,points:n,muted:this.state.muted,muteHandler:this.muteHandler,errorPoints:i}),r.a.createElement(S,{onSwipe:this.onSwipe,onAfterSwipe:this.onAfterSwipe,cards:a,helper:this.state.helper,updateLoader:this.updateLoader}))}}]),t}(a.Component),G=(n(394),R),Z=function(){return r.a.createElement("div",{className:"app"},r.a.createElement(G,null))},z=(n(395),n(396),Z);i.a.render(r.a.createElement(z,null),document.getElementById("root"))}},[[168,1,2]]]);
//# sourceMappingURL=main.a0658f4c.chunk.js.map